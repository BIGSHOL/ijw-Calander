# 아카이브 토글 리팩토링 보고서

**작성일**: 2026년 1월 7일
**작성자**: Antigravity

## 개요
기존 캘린더 헤더에 위치했던 "지난 기록 보기" (아카이브뷰) 토글 버튼을 UI 단순화 및 중앙 관리를 위해 **설정(Settings)** 메뉴 내부로 이동시키는 리팩토링 작업을 수행하였습니다.

## 주요 변경 사항

### 1. 전역 상태 관리 도입 (`App.tsx`)
- 기존에 `CalendarBoard` 내부에서 관리되던 `showArchived` 상태를 최상위 컴포넌트인 `App.tsx`로 끌어올렸습니다 (State Lifting).
- 이를 통해 `SettingsModal`과 모든 `CalendarBoard` 인스턴스가 동일한 아카이브 상태를 공유할 수 있게 되었습니다.

### 2. 설정 메뉴 UI 추가 (`SettingsModal.tsx`)
- **설정 > 시스템 관리** 탭에 "데이터 보존 및 아카이브" 섹션을 신설하였습니다.
- 해당 섹션에 아카이브 토글 스위치를 배치하여, 사용자가 명시적으로 설정에서 지난 기록 보기 여부를 제어하도록 변경하였습니다.

### 3. 캘린더 UI 정리 (`CalendarBoard.tsx`, `YearlyView.tsx`)
- 메인 캘린더 및 연간 일정 보기의 헤더에서 더 이상 불필요해진 "Archive" 버튼을 제거하였습니다.
- 이제 컴포넌트는 내부 상태 대신 `props`로 전달받은 전역 `showArchived` 값을 사용하여 데이터를 렌더링합니다.

## 결과 및 기대 효과
- **UI 개선**: 캘린더 상단 공간을 확보하여 더 깔끔한 인터페이스를 제공합니다.
- **사용성 개선**: 실수로 아카이브 뷰를 켜거나 끄는 오작동을 방지하고, "설정" 이라는 명확한 위치에서 기능을 제어하게 됩니다.
- **코드 품질**: 상태 관리가 중앙화되어 데이터 흐름이 단순해지고 유지보수가 용이해졌습니다.

## 확인된 사항
- 설정에서 토글 변경 시 캘린더의 과거 데이터 표시/숨김이 정상 동작함을 확인.
- 불필요한 기존 버튼 코드가 완전히 제거됨을 확인.
