# ì¸ì¬ì› ìˆ˜ì—… ì‹œê°„ëŒ€ ì••ì¶• ë° ë§¤í•‘ ë¡œì§ ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2025-12-30
**ìƒíƒœ**: ğŸŸ¢ **ì™„ë£Œ** (ì‹œê°„ëŒ€ ë¶„ë¦¬ ë° ë§¤í•‘ ë¡œì§ êµ¬í˜„ ì™„ë£Œ)
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-12-30

## 1. ê°œìš”
**ëª©í‘œ**: ê°•ì‚¬ë³„ ì‹œê°„í‘œ(Standard View)ì—ì„œëŠ” 16:20~18:20 êµ¬ê°„ì´ 3ê°œ êµì‹œ(4, 5, 6êµì‹œ)ë¡œ í‘œí˜„ë˜ì§€ë§Œ, ì¸ì¬ì› ìˆ˜ì—…(E_ ìˆ˜ì—…)ì€ í•´ë‹¹ êµ¬ê°„ì´ 2ê°œ íƒ€ì„(4, 5êµì‹œ)ìœ¼ë¡œ ìš´ì˜ë©ë‹ˆë‹¤. í†µí•©ë·°(Integration View)ì—ì„œ ì¸ì¬ì› ìˆ˜ì—… ë°ì´í„°ë¥¼ í‘œì‹œí•  ë•Œ, DBì— ì €ì¥ëœ 3ê°œ êµì‹œ ë°ì´í„°ë¥¼ ì¸ì¬ì› ê¸°ì¤€ 2ê°œ êµì‹œë¡œ ì••ì¶•í•˜ì—¬ í‘œì‹œí•´ì•¼ í•©ë‹ˆë‹¤.

## 2. ì‹œê°„ëŒ€ ë¶„ì„

### Standard (EiE) ì‹œê°„ëŒ€
- **4êµì‹œ**: 16:20 ~ 17:00 (40ë¶„)
- **5êµì‹œ**: 17:00 ~ 17:40 (40ë¶„)
- **6êµì‹œ**: 17:40 ~ 18:20 (40ë¶„)
- **7êµì‹œ**: 18:20 ~ 19:15 (55ë¶„)
- **8êµì‹œ**: 19:15 ~ 20:10 (55ë¶„)
- **9êµì‹œ**: 20:10 ~ 21:05 (55ë¶„)
- **10êµì‹œ**: 21:05 ~ 22:00 (55ë¶„)

### Injae (ì¸ì¬ì›) ì‹œê°„ëŒ€
- **4êµì‹œ**: 16:20 ~ 17:15 (55ë¶„)
- **5êµì‹œ**: 17:15 ~ 18:10 (55ë¶„)
- **[6êµì‹œ ì—†ìŒ]**: (ì‰¬ëŠ” ì‹œê°„ 18:10 ~ 18:20)
- **7êµì‹œ**: 18:20 ~ 19:15 (55ë¶„) - Standard 7êµì‹œì™€ ë™ì¼
- **8êµì‹œ**: 19:15 ~ 20:10 (55ë¶„) - Standard 8êµì‹œì™€ ë™ì¼
- **9êµì‹œ**: 20:10 ~ 21:05 (55ë¶„) - Standard 9êµì‹œì™€ ë™ì¼
- **10êµì‹œ**: 21:05 ~ 22:00 (55ë¶„) - Standard 10êµì‹œì™€ ë™ì¼

## 3. ë§¤í•‘(ì••ì¶•) ë¡œì§

Standard ì‹œê°„í‘œì˜ ë°ì´í„°ë¥¼ Injae ì‹œê°„ëŒ€ ê·¸ë¦¬ë“œì— í‘œì‹œí•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ë§¤í•‘ì„ ì ìš©í•©ë‹ˆë‹¤:

| Standard êµì‹œ | Injae êµì‹œ | ë¹„ê³  |
|--------------|-----------|-----|
| 1, 2, 3      | 1, 2, 3   | 1:1 ë§¤í•‘ |
| **4êµì‹œ**    | **4êµì‹œ** | ì‹œì‘ ì‹œê°„ ì¼ì¹˜ |
| **5êµì‹œ**    | **5êµì‹œ** | 17:00~17:40 â†’ 17:15~18:10 (ëŒ€ë¶€ë¶„ 5êµì‹œì— í¬í•¨) |
| **6êµì‹œ**    | **5êµì‹œ** | 17:40~18:20 â†’ 17:15~18:10 (5êµì‹œë¡œ ë³‘í•©) |
| **7êµì‹œ**    | **7êµì‹œ** | ì‹œì‘ ì‹œê°„ ì¼ì¹˜ |
| 8, 9, 10     | 8, 9, 10  | 1:1 ë§¤í•‘ |

**ê²°ê³¼**: Standardì˜ 4, 5, 6êµì‹œ ë°ì´í„°ê°€ Injaeì˜ 4, 5êµì‹œ ë‘ ì¹¸ì— ë³‘í•©ë˜ì–´ í‘œì‹œë©ë‹ˆë‹¤. (3 Slots â†’ 2 Slots ì••ì¶•)
Injae ê·¸ë¦¬ë“œì—ì„œëŠ” 6êµì‹œ ì»¬ëŸ¼ì„ ë¹„ìš°ê±°ë‚˜ í‘œì‹œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

## 4. êµ¬í˜„ í˜„í™©

### âœ… 4.1. ì™„ë£Œëœ ì‘ì—…

#### `englishUtils.ts` (ì™„ë£Œ)
- âœ… `INJAE_PERIODS` ë°°ì—´ ì •ì˜ë¨ (Line 19-30)
- âœ… `isInjaeClass` í•¨ìˆ˜ êµ¬í˜„ë¨ (Line 33-35) - 'E_' í¬í•¨ ì—¬ë¶€ë¡œ ì¸ì¬ì› ìˆ˜ì—… íŒë³„
- âœ… **6êµì‹œ ì œê±° ì™„ë£Œ**: 6êµì‹œ í•­ëª©ì„ ì‚­ì œí•˜ì—¬ 5, 7êµì‹œê°€ ì—°ì†ë˜ë„ë¡ ìˆ˜ì •í•¨

#### `EnglishClassTab.tsx` (ì™„ë£Œ)
- âœ… ì¸ì¬ì› ìˆ˜ì—… ì—¬ë¶€ì— ë”°ë¥¸ ì‹œê°„ëŒ€ ì„ íƒ êµ¬í˜„ (Line 226)
- âœ… ë‹´ì„ ì„ ìƒë‹˜ ìë™ ê²°ì • ë¡œì§ êµ¬í˜„ (Line 176-199)
- âœ… ìš”ì¼ë³„ ê°•ì˜ì‹¤ í‘œì‹œ êµ¬í˜„ (Line 96-122, 540)
- âœ… **ë§¤í•‘ ë¡œì§ êµ¬í˜„ ì™„ë£Œ**: Standard 5, 6êµì‹œ ë°ì´í„°ë¥¼ Injae 5êµì‹œë¡œ ë³‘í•©í•˜ì—¬ ì €ì¥

### 4.2. êµ¬í˜„ ìƒì„¸ ì½”ë“œ

#### `englishUtils.ts` - INJAE_PERIODS (Line 20-31)
```typescript
export const INJAE_PERIODS = [
    { id: '1', label: '1êµì‹œ', time: '14:20~15:00' },
    { id: '2', label: '2êµì‹œ', time: '15:00~15:40' },
    { id: '3', label: '3êµì‹œ', time: '15:40~16:20' },
    { id: '4', label: '4êµì‹œ', time: '16:20~17:15' },  // ì¸ì¬ì›: 55ë¶„
    { id: '5', label: '5êµì‹œ', time: '17:15~18:10' },  // ì¸ì¬ì›: 55ë¶„
    // 6êµì‹œ ì œê±° (18:10~18:20 ì‰¬ëŠ”ì‹œê°„)
    { id: '7', label: '7êµì‹œ', time: '18:20~19:15' },
    { id: '8', label: '8êµì‹œ', time: '19:15~20:10' },
    { id: '9', label: '9êµì‹œ', time: '20:10~21:05' },
    { id: '10', label: '10êµì‹œ', time: '21:05~22:00' },
] as const;
```

#### `EnglishClassTab.tsx` - ë§¤í•‘ ë¡œì§ (Line 137-143)
```typescript
// ì¸ì¬ì› ìˆ˜ì—… ì‹œê°„í‘œ ì••ì¶• ë§¤í•‘ (Std 4,5,6 -> Injae 4,5)
let mappedPeriodId = periodId;
if (isInjaeClass(cName)) {
    if (periodId === '5' || periodId === '6') {
        mappedPeriodId = '5'; // 6êµì‹œë¥¼ 5êµì‹œë¡œ ë³‘í•©
    }
}
```

#### `EnglishClassTab.tsx` - scheduleMap ì €ì¥ (Line 166-185)
```typescript
// Populate Map with Mapped Period ID
if (!info.scheduleMap[mappedPeriodId]) {
    info.scheduleMap[mappedPeriodId] = {};
}

info.scheduleMap[mappedPeriodId][day] = {
    ...cell,
    className: cName,
    room: cRoom,
    teacher: cTeacher
};
```

#### `EnglishClassTab.tsx` - Min/Max ê³„ì‚° (Line 194-203)
```typescript
// Min/Max Calc with Mapped Period
const mappedPNum = parseInt(mappedPeriodId);
const dayIdx = EN_WEEKDAYS.indexOf(day as any);
if (dayIdx !== -1) {
    if (dayIdx <= 4) { // Weekday (Mon-Fri)
        info.weekdayMin = Math.min(info.weekdayMin, mappedPNum);
    } else { // Weekend (Sat-Sun)
        info.weekendMin = Math.min(info.weekendMin, mappedPNum);
    }
}
info.minPeriod = Math.min(info.minPeriod, mappedPNum);
```

---

## 5. ë™ì‘ ì›ë¦¬

### 5.1. ë°ì´í„° íë¦„

**Standard ìˆ˜ì—… (ì˜ˆ: "PL5")**:
```
DB: teacher-4-ì›”, teacher-5-ì›”, teacher-6-ì›”
  â†“ (ë§¤í•‘ ì—†ìŒ)
scheduleMap: { "4": {...}, "5": {...}, "6": {...} }
  â†“ (EN_PERIODS ì‚¬ìš©)
UI: 4êµì‹œ, 5êµì‹œ, 6êµì‹œ (3ê°œ ì…€)
```

**Injae ìˆ˜ì—… (ì˜ˆ: "E_ì¤‘1")**:
```
DB: teacher-4-ì›”, teacher-5-ì›”, teacher-6-ì›”
  â†“ (ë§¤í•‘ ì ìš©: 5,6 â†’ 5)
scheduleMap: { "4": {...}, "5": {...} }
  â†“ (INJAE_PERIODS ì‚¬ìš©, 6êµì‹œ ì—†ìŒ)
UI: 4êµì‹œ, 5êµì‹œ, [6êµì‹œ ì—†ìŒ], 7êµì‹œ (2ê°œ ì…€)
```

### 5.2. ì‹¤ì œ ì˜ˆì‹œ

**ì‹œë‚˜ë¦¬ì˜¤**: E_ì¤‘1 ìˆ˜ì—…ì´ ì›”ìš”ì¼ 4,5,6êµì‹œì— ìˆìŒ (DB ì €ì¥)

**ì²˜ë¦¬ ê³¼ì •**:
1. `teacher-4-ì›”` â†’ `mappedPeriodId = "4"` â†’ `scheduleMap["4"]["ì›”"]`
2. `teacher-5-ì›”` â†’ `mappedPeriodId = "5"` â†’ `scheduleMap["5"]["ì›”"]`
3. `teacher-6-ì›”` â†’ `mappedPeriodId = "5"` â†’ `scheduleMap["5"]["ì›”"]` (ë®ì–´ì“°ê¸°)
4. UI í‘œì‹œ: INJAE_PERIODS ì‚¬ìš© â†’ 4êµì‹œ, 5êµì‹œë§Œ í‘œì‹œ

**ê²°ê³¼**: 3ê°œ êµì‹œ ë°ì´í„°ê°€ 2ê°œ êµì‹œë¡œ ì••ì¶•ë¨

---

## 6. í…ŒìŠ¤íŠ¸ ë°©ë²•

### 6.1. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

#### Case 1: Injae ìˆ˜ì—… (E_ì¤‘1)
- **DB ë°ì´í„°**: 4êµì‹œ(Kelly), 5êµì‹œ(Kelly), 6êµì‹œ(Kelly)
- **ì˜ˆìƒ ê²°ê³¼**:
  - 4êµì‹œ: Kelly í‘œì‹œ
  - 5êµì‹œ: Kelly í‘œì‹œ (5,6êµì‹œ ë³‘í•©)
  - 7êµì‹œ: ë°ì´í„° ì—†ìœ¼ë©´ "-"

#### Case 2: Standard ìˆ˜ì—… (PL5)
- **DB ë°ì´í„°**: 4êµì‹œ(Sarah), 5êµì‹œ(Sarah), 6êµì‹œ(Sarah)
- **ì˜ˆìƒ ê²°ê³¼**:
  - 4êµì‹œ: Sarah í‘œì‹œ
  - 5êµì‹œ: Sarah í‘œì‹œ
  - 6êµì‹œ: Sarah í‘œì‹œ

#### Case 3: í˜¼í•© (E_ì¤‘1ì´ 4,5êµì‹œë§Œ ìˆìŒ)
- **DB ë°ì´í„°**: 4êµì‹œ(Kelly), 5êµì‹œ(Kelly)
- **ì˜ˆìƒ ê²°ê³¼**:
  - 4êµì‹œ: Kelly í‘œì‹œ
  - 5êµì‹œ: Kelly í‘œì‹œ
  - 7êµì‹œ: ë°ì´í„° ì—†ìœ¼ë©´ "-"

### 6.2. ê²€ì¦ ë°©ë²•

```bash
# 1. ê°œë°œ ì„œë²„ ì‹¤í–‰
npm start

# 2. ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸
# - ì‹œê°„í‘œ ëª¨ë“œ ì§„ì…
# - í†µí•©ë·° íƒ­ ì„ íƒ
# - E_ ìˆ˜ì—… ì¹´ë“œ í™•ì¸
# - 4êµì‹œ, 5êµì‹œ í‘œì‹œë˜ê³  6êµì‹œê°€ ì—†ëŠ”ì§€ í™•ì¸
# - ë°”ë¡œ 7êµì‹œê°€ ë‚˜íƒ€ë‚˜ëŠ”ì§€ í™•ì¸
```

---

## 7. ì™„ë£Œ ìƒíƒœ ìš”ì•½

| í•­ëª© | ìƒíƒœ | íŒŒì¼ | ë¼ì¸ |
|------|------|------|------|
| INJAE_PERIODS ì •ì˜ | âœ… ì™„ë£Œ | englishUtils.ts | 20-31 |
| 6êµì‹œ ì œê±° | âœ… ì™„ë£Œ | englishUtils.ts | 26 |
| isInjaeClass í•¨ìˆ˜ | âœ… ì™„ë£Œ | englishUtils.ts | 33-35 |
| ë§¤í•‘ ë¡œì§ êµ¬í˜„ | âœ… ì™„ë£Œ | EnglishClassTab.tsx | 137-143 |
| scheduleMap ì €ì¥ | âœ… ì™„ë£Œ | EnglishClassTab.tsx | 166-185 |
| Min/Max ê³„ì‚° ìˆ˜ì • | âœ… ì™„ë£Œ | EnglishClassTab.tsx | 194-203 |
| ì‹œê°„ëŒ€ ì„ íƒ ë¡œì§ | âœ… ì™„ë£Œ | EnglishClassTab.tsx | 272 |
| ë‹´ì„ ìë™ ê²°ì • | âœ… ì™„ë£Œ | EnglishClassTab.tsx | 222-246 |
| ìš”ì¼ë³„ ê°•ì˜ì‹¤ | âœ… ì™„ë£Œ | EnglishClassTab.tsx | 96-122 |

**ì „ì²´ ì§„í–‰ë¥ **: **100%** âœ…

---

*Last Updated: 2025-12-30*
*Status: âœ… ì™„ë£Œ - ëª¨ë“  ê¸°ëŠ¥ êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸ ì™„ë£Œ*
*Contributors: Claude Code, User*
